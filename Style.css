$bg:#38216b;
$purple:#8B5FBF;
$diamond:#B4EAFA;
$cream:#F7FFF7;

$mushroomSize:325px;
$speckAmount:10;
%abs {
    position: absolute;
    left: 0;
    right: 0;
    margin: auto;
    top: 50%;
    transform: translateY(-50%);   
}
%dot{
	background:darken($diamond,5%);
	opacity:.5;
	//box-shadow:20px 2px 30px $diamond;
	@extend %abs;
	border-radius:50%;
}
%glow{
	width:80%;
	height:60%;
	opacity:.8;
	background-image: radial-gradient($diamond 0%, transparent 66%);
	@extend %abs;
}
@mixin b-radi($tl, $tr, $br, $bl){
	border-top-left-radius:$tl;
	border-top-right-radius:$tr;
	border-bottom-right-radius:$br;
	border-bottom-left-radius:$bl;
}


#illustration{
	width:100%;
	height:100%;
	overflow:hidden;
}
.mushroom-scene{
	@extend %abs;
	width:$mushroomSize+200;
	height:$mushroomSize+200;
	perspective:2600px;

}


.mushroom-scene{
	transform:scale(.7) translatey(-60%);
}
.mushroom{
	@extend %abs;
	width:$mushroomSize;
	height:$mushroomSize * 1.2;
	
	.glows{
		.glow:nth-child(1){
			@extend %glow;
			top:165px;
			left:110px;
			}
		.glow:nth-child(2){
			@extend %glow;
			top:100px;
			left:-10px;
		}
		.glow:nth-child(3){
			@extend %glow;
			top:40px;
			left:-120px;
			transform:rotate(-10deg) ;
		}
	}
	
	.underbelly{
		@extend %abs;
		width:$mushroomSize*.75;
		height:$mushroomSize*.11;
		background-image:radial-gradient(darken($cream, 60%),darken($cream, 10%));
		border-radius:50%;
		top:232px;
		left:-3px;
		transform:rotate(4deg)
	}
	.head{
		@extend %abs;
		background:$cream;
		width:$mushroomSize;
		transform-style: preserve-3d;
		height:$mushroomSize*.75;
		border-top-left-radius:$mushroomSize/1;
		border-top-right-radius:$mushroomSize/1;
		border-bottom-right-radius:$mushroomSize/2;
		border-bottom-left-radius:$mushroomSize/2;
		top:30%;
		overflow:hidden;
		transform:translate3d(10px,-40%,0) rotate(3deg);
		box-shadow:0 30px 50px rgba(56, 33, 107,0.3), inset -40px -30px 70px 2px rgba(56, 33, 107, .5),  ;
		z-index:1;
		.dot:nth-child(1){
		@extend %dot;
			width:30%;
			left:250px;
			box-shadow:-2px 0 40px rgba(0,0,0,0.1);
			height:50%;
		}
		.dot:nth-child(2){
		@extend %dot;
			width:50%;
			left:-90px;
			height:30%;
			transform:rotate(-20deg);
			box-shadow:2px 2px 5px  0px rgba(0,0,0,0.05);
			opacity:.7;
			top:0;
		}
		.dot:nth-child(3){
			@extend %dot;
			width:25%;
			left:-255px;
			height:45%;
			opacity:.5;
			box-shadow:2px 0 40px rgba(0,0,0,0.1);
			top:170px;
		}
	}
	.stem{
		@extend %abs;
		width:30%;
		height:60%;
		background:$cream;
		bottom:-60%;
		transform:rotate(-4deg) translatey(-40%) translatex(10%);
		@include b-radi(0,50%,20%,20%);
		box-shadow:0 30px 50px rgba(56, 33, 107,0.3), inset -20px 30px 50px rgba(56, 33, 107, .3), inset -30px 75px 38px .5px rgba(56, 33, 107,0.3);
		&:after{
			content:'';
			width:100px;
			position:absolute;
			height:20px;
			background:rgb(16%, 9%, 39%);
			top:220px;
			transform:rotate(2deg);
			
		}
	}
	
}
.mushroom-shadow:nth-child(1){
	@extend %abs;
	width:100%;
	height:15%;
	bottom:50px;
	box-shadow: 0px 200px 20px rgba(16%, 9%, 39%, 0.3);
	border-radius:50%;
	z-index:1;
}
.mushroom-shadow:nth-child(2){
	@extend %abs;
	width:100%;
	bottom:70px;
	height:15%;
	box-shadow: 0px 200px 20px #291863;
	border-radius:50%;
	z-index:0;
}

.mushroom:nth-child(2){
	transform:scale(.7) translate(-200px,-40%);
	.head{
		box-shadow:0 30px 50px rgba(56, 33, 107,0.3), inset -40px -30px 70px 2px rgba(56, 33, 107, .5),  30px 20px 40px rgba(0,0,0,0.2) ;
	}
	.stem{
		transform:rotate(1deg) translatey(-40%) translatex(10%);
	}
	.mushroom-shadow{
		width:90%;
	}
}







body,
html {
	box-sizing: border-box;
	margin: 0;
	padding: 0;
	font-size: 10px;
	font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen,
		Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
}
body * {
	box-sizing: inherit;
}
body{
	width:100vw;
	height:100vh;
	overflow:hidden;
	background-image:radial-gradient( farthest-corner at 40px 40px,darken($bg,6%), $bg );
}

.speck{
	@extend %abs;
	background:$diamond;
	border-radius:50%;
	opacity:.5;
	
	box-shadow:0 10px 30px rgba(16%, 9%, 39%, 0.3);
	@for $i from 1 through $speckAmount{
		&:nth-of-type(#{$i}){
			
			width:$i*5px;
			height:$i*5px;
			
			top:$i*9%;
			animation:speck--#{$i} random(5)* 3s  linear random(2)+0s infinite;
			
		}
		@keyframes speck--#{$i}{
			0%{
				transform:translateY(0) translateX(0) ;
				
			}
			50%{
				transform:translateY(random(100)+0px) translateX(50vw);
			}
			100%{
					transform: translateX(120vw) translateY(random(30)+0px);
			}
		}
}
	&:nth-of-type(even){
		transform:scale(1.4);
		@for $i from 2 through $speckAmount/2{
			opacity:.2;
			left:-120vw;
		}
	}
}
